import{d as H,_ as K,k as y,r as o,b as _,f as R,w as l,e,g as d,j as n,G as Q,c as x,t as i,F as W,q as X,J as Y,m as Z}from"./app-B4Q7DtOZ.js";import{u as h}from"./useApi-D-wG6FEk.js";import"./apiHelper-BLoNXDsG.js";const ee={class:"text-h4 font-weight-bold"},te={key:0},le={class:"font-weight-bold"},oe={class:"pa-2 bg-grey-lighten-4 rounded italic text-caption"},ae={key:1,class:"d-flex flex-column align-center justify-center h-100 text-medium-emphasis"},ne=H({layout:K,__name:"ScenarioRoiCalculator",props:{scenarioId:{}},setup(S){const E=S,M=h(),{showSuccess:U,showError:N}=Y(),v=y(!1),u=y(null),r=y({scenario_id:E.scenarioId||1,talent_nodes_needed:5,acquisition_cost_per_node:15e3,reskilling_cost_per_node:8e3,reskilling_duration_months:6,internal_talent_pipeline:3,external_market_salary:12e4,internal_maintenance_salary:85e3}),k=async()=>{v.value=!0;try{const s=await M.post("/api/strategic-planning/roi-calculator/calculate",r.value);u.value=s.data,U("Cálculo de ROI completado")}catch(s){N("Error al calcular ROI: "+s.message)}finally{v.value=!1}},q=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),z=s=>s>100?"success":s>50?"primary":s>0?"warning":"error";return(s,t)=>{const m=o("v-icon"),p=o("v-col"),f=o("v-row"),T=o("v-card-title"),c=o("v-text-field"),$=o("v-slider"),V=o("v-divider"),A=o("v-btn"),B=o("v-form"),w=o("v-card"),O=o("v-alert-title"),F=o("v-alert"),j=o("v-toolbar-title"),D=o("v-spacer"),C=o("v-chip"),G=o("v-toolbar"),b=o("v-list-item-title"),g=o("v-list-item"),J=o("v-list"),L=o("v-card-text"),P=o("v-container");return _(),R(P,null,{default:l(()=>[e(f,{class:"mb-4"},{default:l(()=>[e(p,{cols:"12"},{default:l(()=>[d("h2",ee,[e(m,{size:"large",color:"primary",class:"mr-2"},{default:l(()=>[...t[6]||(t[6]=[n("mdi-calculator-variant",-1)])]),_:1}),t[7]||(t[7]=n(" Calculadora de ROI Estratégico (Talento) ",-1))]),t[8]||(t[8]=d("p",{class:"text-subtitle-1 text-medium-emphasis"}," Compara estrategias de adquisición vs desarrollo de talentos para asegurar la viabilidad del escenario. ",-1))]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(p,{cols:"12",md:"4"},{default:l(()=>[e(w,{class:"pa-4 elevation-2"},{default:l(()=>[e(T,{class:"px-0"},{default:l(()=>[...t[9]||(t[9]=[n("Parámetros de Simulación",-1)])]),_:1}),e(B,{onSubmit:Q(k,["prevent"])},{default:l(()=>[e(c,{modelValue:r.value.talent_nodes_needed,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value.talent_nodes_needed=a),modelModifiers:{number:!0},label:"Gaps de Talento a cubrir",type:"number",variant:"outlined",density:"comfortable"},null,8,["modelValue"]),e(c,{modelValue:r.value.acquisition_cost_per_node,"onUpdate:modelValue":t[1]||(t[1]=a=>r.value.acquisition_cost_per_node=a),modelModifiers:{number:!0},label:"Costo Reclutamiento (Externo)",type:"number",prefix:"$",variant:"outlined",density:"comfortable"},null,8,["modelValue"]),e(c,{modelValue:r.value.reskilling_cost_per_node,"onUpdate:modelValue":t[2]||(t[2]=a=>r.value.reskilling_cost_per_node=a),modelModifiers:{number:!0},label:"Costo Capacitación (Interno)",type:"number",prefix:"$",variant:"outlined",density:"comfortable"},null,8,["modelValue"]),e($,{modelValue:r.value.reskilling_duration_months,"onUpdate:modelValue":t[3]||(t[3]=a=>r.value.reskilling_duration_months=a),label:"Meses de Reskilling",min:"1",max:"24",step:"1","thumb-label":"always",color:"primary",class:"mt-4"},null,8,["modelValue"]),e(V,{class:"my-4"}),e(c,{modelValue:r.value.external_market_salary,"onUpdate:modelValue":t[4]||(t[4]=a=>r.value.external_market_salary=a),modelModifiers:{number:!0},label:"Salario Mercado (Anual)",type:"number",prefix:"$",variant:"outlined",density:"comfortable"},null,8,["modelValue"]),e(c,{modelValue:r.value.internal_maintenance_salary,"onUpdate:modelValue":t[5]||(t[5]=a=>r.value.internal_maintenance_salary=a),modelModifiers:{number:!0},label:"Salario Actual (Anual)",type:"number",prefix:"$",variant:"outlined",density:"comfortable"},null,8,["modelValue"]),e(A,{color:"primary",block:"",size:"large",onClick:k,loading:v.value,"prepend-icon":"mdi-chart-bar"},{default:l(()=>[...t[10]||(t[10]=[n(" Calcular Impacto ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"8"},{default:l(()=>[u.value?(_(),x("div",te,[e(F,{type:"info",variant:"tonal",class:"mb-6 border",border:"start"},{default:l(()=>[e(O,{class:"text-h6 font-weight-bold"},{default:l(()=>[n(" Recomendación Estratégica: "+i(u.value.recommendation.strategy),1)]),_:1}),d("p",null,i(u.value.recommendation.reasoning),1)]),_:1}),e(f,null,{default:l(()=>[(_(!0),x(W,null,X(u.value.roi_comparison,(a,I)=>(_(),R(p,{key:I,cols:"12",lg:"6"},{default:l(()=>[e(w,{class:"h-100 border rounded-lg"},{default:l(()=>[e(G,{density:"compact",color:z(a.roi_index),dark:""},{default:l(()=>[e(j,{class:"text-uppercase font-weight-bold text-caption"},{default:l(()=>[n(" Estrategia: "+i(I),1)]),_:2},1024),e(D),e(C,{size:"small",class:"mr-2",color:"white","text-color":"black"},{default:l(()=>[n(" ROI: "+i(a.roi_index)+"% ",1)]),_:2},1024)]),_:2},1032,["color"]),e(L,null,{default:l(()=>[e(J,{density:"compact"},{default:l(()=>[e(g,null,{prepend:l(()=>[e(m,{color:"grey"},{default:l(()=>[...t[11]||(t[11]=[n("mdi-cash",-1)])]),_:1})]),append:l(()=>[d("span",le,i(q(a.total_cost)),1)]),default:l(()=>[e(b,null,{default:l(()=>[...t[12]||(t[12]=[n("Inversión Total",-1)])]),_:1})]),_:2},1024),e(g,null,{prepend:l(()=>[e(m,{color:"grey"},{default:l(()=>[...t[13]||(t[13]=[n("mdi-calendar-clock",-1)])]),_:1})]),append:l(()=>[d("span",null,i(a.time_to_delivery_months)+" meses",1)]),default:l(()=>[e(b,null,{default:l(()=>[...t[14]||(t[14]=[n("Tiempo de Entrega",-1)])]),_:1})]),_:2},1024),e(g,null,{prepend:l(()=>[e(m,{color:"grey"},{default:l(()=>[...t[15]||(t[15]=[n("mdi-shield-alert",-1)])]),_:1})]),append:l(()=>[e(C,{size:"x-small"},{default:l(()=>[n(i(a.risk_level),1)]),_:2},1024)]),default:l(()=>[e(b,null,{default:l(()=>[...t[16]||(t[16]=[n("Nivel de Riesgo",-1)])]),_:1})]),_:2},1024),e(V,{class:"my-2"}),d("div",oe,' "'+i(a.strategic_value)+'" ',1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(_(),x("div",ae,[e(m,{size:"80",color:"grey-lighten-2"},{default:l(()=>[...t[17]||(t[17]=[n("mdi-calculator-outline",-1)])]),_:1}),t[18]||(t[18]=d("p",null,'Ingresa los parámetros y presiona "Calcular Impacto" para ver la comparativa estratégica.',-1))]))]),_:1})]),_:1})]),_:1})}}}),de=Z(ne,[["__scopeId","data-v-38d69b80"]]);export{de as default};
