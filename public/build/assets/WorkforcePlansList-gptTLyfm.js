import{d as N,_ as h,r as d,o as x,b as e,c as P,e as C,f as o,w as t,j as B,k as l,t as u,J as E}from"./app-BQBzBluS.js";import{u as L}from"./useWorkforcePlanning-BOlJ0NaQ.js";import"./useApi-DEBD0yG7.js";import"./apiHelper-CL77IM7H.js";const V={class:"pa-4"},z=N({layout:h,__name:"WorkforcePlansList",setup(A){const{listPlans:_}=L(),{showError:m}=E(),r=d(!1),c=d([]),p=[{title:"Nombre",value:"name"},{title:"Código",value:"code"},{title:"Estado",value:"status"},{title:"Inicio",value:"start_date"},{title:"Término",value:"end_date"}];return x(async()=>{r.value=!0;try{const n=await _(),a=n?.data?.data??n?.data??[];c.value=Array.isArray(a)?a:[]}catch{m("No fue posible cargar los planes")}finally{r.value=!1}}),(n,a)=>{const i=e("v-col"),v=e("v-icon"),f=e("v-btn"),g=e("v-row"),y=e("RouterLink"),b=e("v-chip"),k=e("v-data-table"),w=e("v-card");return C(),P("div",V,[o(g,{class:"mb-4",align:"center"},{default:t(()=>[o(i,null,{default:t(()=>[...a[0]||(a[0]=[B("h2",null,"Planes de Dotación",-1)])]),_:1}),o(i,{class:"text-right"},{default:t(()=>[o(f,{color:"primary",to:{name:"workforce-plans.create"}},{default:t(()=>[o(v,{start:""},{default:t(()=>[...a[1]||(a[1]=[l("mdi-plus",-1)])]),_:1}),a[2]||(a[2]=l(" Nuevo Plan ",-1))]),_:1})]),_:1})]),_:1}),o(w,null,{default:t(()=>[o(k,{headers:p,items:c.value,loading:r.value,density:"comfortable"},{"item.name":t(({item:s})=>[o(y,{to:{name:"workforce-plans.show",params:{id:s.id}}},{default:t(()=>[l(u(s.name),1)]),_:2},1032,["to"])]),"item.status":t(({item:s})=>[o(b,{size:"small",color:s.status==="active"?"success":s.status==="approved"?"info":"grey"},{default:t(()=>[l(u(s.status),1)]),_:2},1032,["color"])]),_:1},8,["items","loading"])]),_:1})])}}});export{z as default};
