import{d as C,a as D,o as N,r as d,b as f,c as B,e,u as M,h as T,w as t,f as m,g as a,i as v,t as c,j as _,_ as V,F,k as b,l as R,m as S}from"./app-B4Q7DtOZ.js";import{g as E}from"./index.es-CBox0HgD.js";const P={class:"d-flex justify-space-between align-center"},A={class:"text-h4 font-weight-bold"},G={class:"d-flex justify-space-between align-center"},H={class:"text-h4 font-weight-bold"},I={class:"d-flex justify-space-between align-center"},L={class:"text-h4 font-weight-bold"},$={class:"d-flex align-center gap-2"},q={class:"text-h4 font-weight-bold"},J={class:"d-flex justify-space-between align-center"},K={class:"text-h4 font-weight-bold text-error"},O={class:"d-flex justify-space-between align-center"},Q={class:"text-h4 font-weight-bold text-success"},U={class:"d-flex align-center gap-2"},W={class:"text-h4 font-weight-bold"},X={class:"d-flex justify-space-between align-center"},Y={class:"text-h4 font-weight-bold text-warning"},Z=C({__name:"Dashboard",setup(ee){const h=[{title:"Dashboard",href:D().url}],{notify:y}=E(),l=b(null),p=b(!1),w=async()=>{p.value=!0;try{const n=await R.get("/api/dashboard/metrics");l.value=n.data.data||n.data}catch(n){console.error("Failed to load metrics",n),y({type:"error",text:"Error loading dashboard metrics"})}finally{p.value=!1}},g=(n,s=70)=>n>=s?"success":n>=50?"warning":"error";return N(()=>{w()}),(n,s)=>{const k=d("v-progress-circular"),o=d("v-card-text"),r=d("v-card"),u=d("v-icon"),i=d("v-col"),x=d("v-progress-linear"),j=d("v-row"),z=d("v-container");return f(),B(F,null,[e(M(T),{title:"Dashboard"}),e(V,{breadcrumbs:h},{default:t(()=>[e(z,{class:"pa-4"},{default:t(()=>[p.value?(f(),m(r,{key:0,class:"mb-4"},{default:t(()=>[e(o,{class:"py-8 text-center"},{default:t(()=>[e(k,{indeterminate:"",color:"primary"}),s[0]||(s[0]=a("p",{class:"mt-4"},"Loading metrics...",-1))]),_:1})]),_:1})):v("",!0),l.value&&!p.value?(f(),m(j,{key:1,"no-gutters":"",class:"gap-4"},{default:t(()=>[e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[a("div",P,[a("div",null,[s[1]||(s[1]=a("p",{class:"text-caption text-grey mb-2"}," Total Peoples ",-1)),a("p",A,c(l.value.total_peoples),1)]),e(u,{size:"48",color:"info"},{default:t(()=>[...s[2]||(s[2]=[_("mdi-account-multiple",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[a("div",G,[a("div",null,[s[3]||(s[3]=a("p",{class:"text-caption text-grey mb-2"}," Total Roles ",-1)),a("p",H,c(l.value.total_roles),1)]),e(u,{size:"48",color:"primary"},{default:t(()=>[...s[4]||(s[4]=[_("mdi-briefcase",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[a("div",I,[a("div",null,[s[5]||(s[5]=a("p",{class:"text-caption text-grey mb-2"}," Total Skills ",-1)),a("p",L,c(l.value.total_skills),1)]),e(u,{size:"48",color:"secondary"},{default:t(()=>[...s[6]||(s[6]=[_("mdi-lightbulb-multiple",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[s[7]||(s[7]=a("p",{class:"text-caption text-grey mb-2"}," Avg Match % ",-1)),a("div",$,[a("p",q,c(l.value.avg_match_percentage)+"% ",1)]),e(x,{value:l.value.avg_match_percentage,color:g(l.value.avg_match_percentage),height:"4",class:"mt-2"},null,8,["value","color"])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[a("div",J,[a("div",null,[s[8]||(s[8]=a("p",{class:"text-caption text-grey mb-2"}," Roles at Risk ",-1)),a("p",K,c(l.value.roles_at_risk),1)]),e(u,{size:"48",color:"error"},{default:t(()=>[...s[9]||(s[9]=[_("mdi-alert-circle",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[a("div",O,[a("div",null,[s[10]||(s[10]=a("p",{class:"text-caption text-grey mb-2"}," High Performers ",-1)),a("p",Q,c(l.value.high_performers),1)]),e(u,{size:"48",color:"success"},{default:t(()=>[...s[11]||(s[11]=[_("mdi-star",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[s[12]||(s[12]=a("p",{class:"text-caption text-grey mb-2"}," Skills Coverage ",-1)),a("div",U,[a("p",W,c(l.value.skills_coverage)+"% ",1)]),e(x,{value:l.value.skills_coverage,color:g(l.value.skills_coverage),height:"4",class:"mt-2"},null,8,["value","color"])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6",md:"4"},{default:t(()=>[e(r,{class:"h-100",elevation:"0",border:""},{default:t(()=>[e(o,{class:"pa-4"},{default:t(()=>[a("div",X,[a("div",null,[s[13]||(s[13]=a("p",{class:"text-caption text-grey mb-2"}," Critical Gaps ",-1)),a("p",Y,c(l.value.critical_gaps),1)]),e(u,{size:"48",color:"warning"},{default:t(()=>[...s[14]||(s[14]=[_("mdi-exclamation",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0),!p.value&&!l.value?(f(),m(r,{key:2,class:"mb-4"},{default:t(()=>[e(o,{class:"py-12 text-center"},{default:t(()=>[e(u,{size:"64",class:"text-grey mb-4"},{default:t(()=>[...s[15]||(s[15]=[_("mdi-chart-box-outline",-1)])]),_:1}),s[16]||(s[16]=a("p",{class:"text-body1 text-grey"},"No data available",-1))]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})],64)}}}),ae=S(Z,[["__scopeId","data-v-4f0993c6"]]);export{ae as default};
