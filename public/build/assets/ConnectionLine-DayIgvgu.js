import{d as p,p as a,r as f,o as g,c as l,e as n,j as m,i as x,v as k}from"./app-BQBzBluS.js";const C=["x1","y1","x2","y2","stroke","stroke-width"],h=["cx","cy","fill"],b=p({__name:"ConnectionLine",props:{source:{type:Object,required:!0},target:{type:Object,required:!0},isCritical:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},setup(r){const e=r,o=a(()=>{const t=e.source.required-e.source.level,s=e.target.required-e.target.level;return(t+s)/2}),i=a(()=>e.isCritical||o.value>2?"url(#criticalLink)":o.value>1?"rgba(251, 191, 36, 0.4)":"url(#healthyLink)"),u=a(()=>{const t=(e.source.importance+e.target.importance)/2;return e.isCritical?3:1+t*.3}),c=f(0),d=a(()=>{const t=c.value;return e.source.x+(e.target.x-e.source.x)*t}),v=a(()=>{const t=c.value;return e.source.y+(e.target.y-e.source.y)*t}),y=a(()=>o.value>2?"#ef4444":"#06b6d4");return g(()=>{e.isActive&&setInterval(()=>{c.value=(c.value+.01)%1},50)}),(t,s)=>(n(),l("g",null,[m("line",{x1:r.source.x,y1:r.source.y,x2:r.target.x,y2:r.target.y,stroke:i.value,"stroke-width":u.value,class:k(["transition-all duration-300",{"animate-pulse":r.isCritical}]),"stroke-linecap":"round"},null,10,C),r.isActive?(n(),l("circle",{key:0,cx:d.value,cy:v.value,r:"3",fill:y.value,class:"animate-ping opacity-75"},null,8,h)):x("",!0)]))}});export{b as default};
