import{d as g,o as p,b as l,c as n,g as f,s as m,i as k,v as a,k as x}from"./app-B4Q7DtOZ.js";const C=["x1","y1","x2","y2","stroke","stroke-width"],h=["cx","cy","fill"],B=g({__name:"ConnectionLine",props:{source:{type:Object,required:!0},target:{type:Object,required:!0},isCritical:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},setup(r){const e=r,o=a(()=>{const t=e.source.required-e.source.level,s=e.target.required-e.target.level;return(t+s)/2}),i=a(()=>e.isCritical||o.value>2?"url(#criticalLink)":o.value>1?"rgba(251, 191, 36, 0.4)":"url(#healthyLink)"),u=a(()=>{const t=(e.source.importance+e.target.importance)/2;return e.isCritical?3:1+t*.3}),c=x(0),d=a(()=>{const t=c.value;return e.source.x+(e.target.x-e.source.x)*t}),v=a(()=>{const t=c.value;return e.source.y+(e.target.y-e.source.y)*t}),y=a(()=>o.value>2?"#ef4444":"#06b6d4");return p(()=>{e.isActive&&setInterval(()=>{c.value=(c.value+.01)%1},50)}),(t,s)=>(l(),n("g",null,[f("line",{x1:r.source.x,y1:r.source.y,x2:r.target.x,y2:r.target.y,stroke:i.value,"stroke-width":u.value,class:m(["transition-all duration-300",{"animate-pulse":r.isCritical}]),"stroke-linecap":"round"},null,10,C),r.isActive?(l(),n("circle",{key:0,cx:d.value,cy:v.value,r:"3",fill:y.value,class:"animate-ping opacity-75"},null,8,h)):k("",!0)]))}});export{B as default};
