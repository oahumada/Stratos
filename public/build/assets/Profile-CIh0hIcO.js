import{d as p,aE as F,a7 as N,ai as V,o as H,b as f,f as b,w as s,L as $,O as g,u as t,a8 as S,ac as q,aF as j,c as h,s as L,a5 as O,aG as R,e as a,g as u,a3 as v,j as i,a2 as Q,aB as U,h as G,$ as z,i as E,T as M,S as W,U as J,_ as K,H as X}from"./app-B4Q7DtOZ.js";import{s as Y}from"./index-BPqNPfze.js";import{a as P,_ as Z}from"./Layout.vue_vue_type_script_setup_true_lang-qXZmwFqi.js";import{_ as w}from"./InputError.vue_vue_type_script_setup_true_lang-CeUlLznU.js";import{_ as ee,a as te,b as ae,c as re,d as se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DlZ_Cbuh.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-DLKE5Y0R.js";import{_ as C}from"./Label.vue_vue_type_script_setup_true_lang-1EcAq9Ra.js";import"./index-yvrqO6F9.js";var oe=p({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,o=F(),{forwardRef:r,currentElement:y}=N();return o.contentId||=V(void 0,"reka-dialog-content"),H(()=>{o.triggerElement.value=y.value}),(l,_)=>(f(),b(t(S),g(n,{ref:t(r),type:l.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(o).open.value||!1,"aria-controls":t(o).open.value?t(o).contentId:void 0,"data-state":t(o).open.value?"open":"closed",onClick:t(o).onOpenToggle}),{default:s(()=>[$(l.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),le=oe;const d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/settings/profile"};d.url=e=>d.definition.url+q(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const D=e=>({action:d.url(e),method:"get"});D.get=e=>({action:d.url(e),method:"get"});D.head=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});d.form=D;const c=e=>({url:c.url(e),method:"patch"});c.definition={methods:["patch"],url:"/settings/profile"};c.url=e=>c.definition.url+q(e);c.patch=e=>({url:c.url(e),method:"patch"});const T=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});T.patch=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});c.form=T;const m=e=>({url:m.url(e),method:"delete"});m.definition={methods:["delete"],url:"/settings/profile"};m.url=e=>m.definition.url+q(e);m.delete=e=>({url:m.url(e),method:"delete"});const B=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});B.delete=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.form=B;const I={edit:d,update:c,destroy:m},de=p({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(o,r)=>(f(),b(t(j),g({"data-slot":"dialog-close"},n),{default:s(()=>[$(o.$slots,"default")]),_:3},16))}}),ne=p({__name:"DialogFooter",props:{class:{}},setup(e){const n=e;return(o,r)=>(f(),h("div",{"data-slot":"dialog-footer",class:L(t(O)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n.class))},[$(o.$slots,"default")],2))}}),ue=p({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(o,r)=>(f(),b(t(le),g({"data-slot":"dialog-trigger"},n),{default:s(()=>[$(o.$slots,"default")]),_:3},16))}}),ie={class:"space-y-6"},ce={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},me={class:"grid gap-2"},fe=p({__name:"DeleteUser",setup(e){const n=R("passwordInput");return(o,r)=>(f(),h("div",ie,[a(P,{title:"Borrar cuenta",description:"Borre la cuenta y todos sus recursos"}),u("div",ce,[r[7]||(r[7]=u("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[u("p",{class:"font-medium"},"Warning"),u("p",{class:"text-sm"}," Por favor proceda con cautela, esta acción no puede se deshecha. ")],-1)),a(t(se),null,{default:s(()=>[a(t(ue),{"as-child":""},{default:s(()=>[a(t(v),{variant:"destructive","data-test":"delete-user-button"},{default:s(()=>[...r[1]||(r[1]=[i("Borrar cuenta",-1)])]),_:1})]),_:1}),a(t(ee),null,{default:s(()=>[a(t(Q),g(t(I).destroy.form(),{"reset-on-success":"",onError:r[0]||(r[0]=()=>n.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:s(({errors:y,processing:l,reset:_,clearErrors:x})=>[a(t(te),{class:"space-y-3"},{default:s(()=>[a(t(ae),null,{default:s(()=>[...r[2]||(r[2]=[i("Are you sure you want to delete your account?",-1)])]),_:1}),a(t(re),null,{default:s(()=>[...r[3]||(r[3]=[i(" Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)])]),_:1})]),_:1}),u("div",me,[a(t(C),{for:"password",class:"sr-only"},{default:s(()=>[...r[4]||(r[4]=[i("Password",-1)])]),_:1}),a(t(k),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:n,placeholder:"Password"},null,512),a(w,{message:y.password},null,8,["message"])]),a(t(ne),{class:"gap-2"},{default:s(()=>[a(t(de),{"as-child":""},{default:s(()=>[a(t(v),{variant:"secondary",onClick:()=>{x(),_()}},{default:s(()=>[...r[5]||(r[5]=[i(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:2},1024),a(t(v),{type:"submit",variant:"destructive",disabled:l,"data-test":"confirm-delete-user-button"},{default:s(()=>[...r[6]||(r[6]=[i(" Delete account ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),pe={class:"flex flex-col space-y-6"},_e={class:"grid gap-2"},ge={class:"grid gap-2"},ye={key:0},ve={class:"-mt-4 text-sm text-muted-foreground"},he={key:0,class:"mt-2 text-sm font-medium text-green-600"},be={class:"flex items-center gap-4"},$e={class:"text-sm text-neutral-600"},Pe=p({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const n=[{title:"Configuración del Perfil",href:U().url}],r=X().props.auth.user;return(y,l)=>(f(),b(K,{breadcrumbs:n},{default:s(()=>[a(t(G),{title:"Configuración del Perfil"}),a(Z,null,{default:s(()=>[u("div",pe,[a(P,{title:"Información de perfil",description:"Actualice su nombre y dirección de correo."}),a(t(Q),g(t(I).update.form(),{class:"space-y-6"}),{default:s(({errors:_,processing:x,recentlySuccessful:A})=>[u("div",_e,[a(t(C),{for:"name"},{default:s(()=>[...l[0]||(l[0]=[i("Nombre",-1)])]),_:1}),a(t(k),{id:"name",class:"mt-1 block w-full",name:"name","default-value":t(r).name,required:"",autocomplete:"name",placeholder:"Nombre completo"},null,8,["default-value"]),a(w,{class:"mt-2",message:_.name},null,8,["message"])]),u("div",ge,[a(t(C),{for:"email"},{default:s(()=>[...l[1]||(l[1]=[i("Dirección de correo",-1)])]),_:1}),a(t(k),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":t(r).email,required:"",autocomplete:"username",placeholder:"Dirección de correo"},null,8,["default-value"]),a(w,{class:"mt-2",message:_.email},null,8,["message"])]),e.mustVerifyEmail&&!t(r).email_verified_at?(f(),h("div",ye,[u("p",ve,[l[3]||(l[3]=i(" Su correo no ha sido verificado. ",-1)),a(t(z),{href:t(Y)(),as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:s(()=>[...l[2]||(l[2]=[i(' Haga clic aquí para reenviar "link de reset" a su correo. ',-1)])]),_:1},8,["href"])]),e.status==="verification-link-sent"?(f(),h("div",he," Un nuevo link de verificación a sido enviado a su dirección de correo. ")):E("",!0)])):E("",!0),u("div",be,[a(t(v),{disabled:x,"data-test":"update-profile-button"},{default:s(()=>[...l[4]||(l[4]=[i("Guardar",-1)])]),_:1},8,["disabled"]),a(M,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:s(()=>[W(u("p",$e," Almacenado. ",512),[[J,A]])]),_:2},1024)])]),_:1},16)]),a(fe)]),_:1})]),_:1}))}});export{Pe as default};
