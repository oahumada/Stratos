import{d as Z,_ as ee,n as te,p as ae,r as f,o as se,b as i,c as _,e as d,j as t,f as s,g,i as z,q as le,w as a,k as l,F as A,s as V,t as u,l as $,G as ne,m as oe}from"./app-BQBzBluS.js";import{g as ie}from"./index.es-CBox0HgD.js";const re={class:"pa-4"},de={class:"d-flex align-start gap-4"},ue={class:"flex-grow-1"},ce={class:"mt-4"},me={class:"d-flex align-start mb-2 gap-2"},pe={class:"d-flex align-start mb-2 gap-2"},ve={class:"d-flex align-start mb-2 gap-2"},fe={class:"d-flex align-start mb-2 gap-2"},_e={class:"d-flex align-start mb-2 gap-2"},ge={class:"d-flex align-start mb-2 gap-2"},xe={class:"mt-4 border-t pt-4"},be={key:1},ye={class:"d-flex align-center justify-space-between w-100"},ke={class:"flex-grow-1"},ze={class:"text-h6 font-weight-bold"},we={key:0,class:"text-body-2 text-medium-emphasis font-weight-regular"},Ce={class:"d-flex align-center mt-1 gap-2"},je={class:"text-body-2 text-medium-emphasis d-flex align-center"},Pe={class:"mr-4 text-right"},De={class:"text-caption text-medium-emphasis"},Ee={key:0},Me={class:"ml-2"},qe={class:"d-flex align-center justify-space-between mb-2"},Le={class:"text-subtitle-1 font-weight-bold"},Ae={class:"text-body-2 text-medium-emphasis mb-3"},Ve={class:"d-flex gap-4"},$e={class:"text-body-2 mb-3"},he=Z({layout:ee,__name:"Index",setup(Re){const h=te(),R=ae(()=>{const n=h.global.current.value;return`linear-gradient(135deg, ${n.colors.primary} 0%, ${n.colors.secondary} 100%)`}),{notify:j}=ie(),x=f([]),w=f(!1),b=f(null),y=f(!1),k=f(null),P=f(!1),M=async()=>{w.value=!0;try{const n=await $.get("/api/development-paths");x.value=n.data.data||n.data,x.value.length>0&&(b.value=x.value[0].id)}catch(n){console.error("Failed to load development paths",n),j({type:"error",text:"Error loading development paths"})}finally{w.value=!1}},T=n=>({course:"mdi-book-open-variant",mentorship:"mdi-human-greeting-variant",project:"mdi-folder-multiple",certification:"mdi-certificate",workshop:"mdi-presentation",reading:"mdi-book",practice:"mdi-code-braces"})[n]||"mdi-checkbox-marked-circle",D=n=>({course:"indigo",mentorship:"teal",project:"success",certification:"warning",workshop:"success",reading:"accent",practice:"error"})[n]||"grey",B=n=>n.reduce((e,o)=>e+(o.estimated_duration_days||0),0),G=n=>n.current_role_id===n.target_role_id,I=n=>{k.value=n,y.value=!0},N=async()=>{if(k.value){P.value=!0;try{await $.delete(`/api/development-paths/${k.value.id}`),j({type:"success",text:"Ruta de aprendizaje eliminada correctamente"}),y.value=!1,k.value=null,await M()}catch(n){console.error("Failed to delete path",n),j({type:"error",text:n.response?.data?.message||"Error al eliminar la ruta"})}finally{P.value=!1}}};return se(()=>{M()}),(n,e)=>{const o=i("v-icon"),q=i("v-col"),F=i("v-row"),S=i("v-alert"),U=i("v-table"),m=i("v-card-text"),p=i("v-card"),O=i("v-progress-circular"),v=i("v-chip"),C=i("v-btn"),L=i("v-card-title"),E=i("v-divider"),Q=i("v-timeline-item"),W=i("v-timeline"),H=i("v-expand-transition"),J=i("v-spacer"),K=i("v-card-actions"),X=i("v-dialog");return d(),_("div",re,[t("div",{class:"d-flex justify-space-between align-center mb-4",style:le([{background:R.value},{padding:"1.5rem","border-radius":"8px"}])},[...e[2]||(e[2]=[t("div",null,[t("h1",{class:"text-h4 font-weight-bold mb-2",style:{color:"white"}}," Learning Paths "),t("p",{class:"text-subtitle-2",style:{color:"rgba(255, 255, 255, 0.85)"}}," Rutas de desarrollo personalizadas para el crecimiento de competencias ")],-1)])],4),s(p,{class:"mb-6",elevation:"0",variant:"outlined"},{default:a(()=>[s(m,{class:"pa-6"},{default:a(()=>[t("div",de,[s(o,{size:"48",color:"primary",class:"mt-1"},{default:a(()=>[...e[3]||(e[3]=[l("mdi-map-marker-path",-1)])]),_:1}),t("div",ue,[e[24]||(e[24]=t("h2",{class:"text-h6 font-weight-bold mb-3"}," 쯈u칠 es un Learning Path? ",-1)),e[25]||(e[25]=t("p",{class:"text-body-2 mb-3"},[l(" Un "),t("strong",null,"Learning Path"),l(" es una ruta de aprendizaje personalizada y estructurada que se genera autom치ticamente bas치ndose en el an치lisis de brechas de competencias entre el perfil actual de una persona y los requisitos de un rol objetivo. ")],-1)),e[26]||(e[26]=t("p",{class:"text-body-2 mb-3"}," Cada ruta contiene una secuencia organizada de pasos de desarrollo que gu칤an el crecimiento profesional de manera progresiva y medible, desde el nivel actual hasta alcanzar las competencias requeridas. ",-1)),t("div",ce,[e[16]||(e[16]=t("h3",{class:"text-subtitle-1 font-weight-bold mb-2"}," Caracter칤sticas principales: ",-1)),s(F,{dense:""},{default:a(()=>[s(q,{cols:"12",md:"6"},{default:a(()=>[t("div",me,[s(o,{size:"small",color:"success"},{default:a(()=>[...e[4]||(e[4]=[l("mdi-check-circle",-1)])]),_:1}),e[5]||(e[5]=t("span",{class:"text-body-2"},[t("strong",null,"Personalizada:"),l(" Adaptada al nivel actual de cada persona")],-1))]),t("div",pe,[s(o,{size:"small",color:"success"},{default:a(()=>[...e[6]||(e[6]=[l("mdi-check-circle",-1)])]),_:1}),e[7]||(e[7]=t("span",{class:"text-body-2"},[t("strong",null,"Priorizada:"),l(" Skills cr칤ticas y brechas grandes primero")],-1))]),t("div",ve,[s(o,{size:"small",color:"success"},{default:a(()=>[...e[8]||(e[8]=[l("mdi-check-circle",-1)])]),_:1}),e[9]||(e[9]=t("span",{class:"text-body-2"},[t("strong",null,"Estructurada:"),l(" Pasos secuenciales con duraci칩n estimada")],-1))])]),_:1}),s(q,{cols:"12",md:"6"},{default:a(()=>[t("div",fe,[s(o,{size:"small",color:"success"},{default:a(()=>[...e[10]||(e[10]=[l("mdi-check-circle",-1)])]),_:1}),e[11]||(e[11]=t("span",{class:"text-body-2"},[t("strong",null,"Diversa:"),l(" M칰ltiples tipos de actividades de aprendizaje")],-1))]),t("div",_e,[s(o,{size:"small",color:"success"},{default:a(()=>[...e[12]||(e[12]=[l("mdi-check-circle",-1)])]),_:1}),e[13]||(e[13]=t("span",{class:"text-body-2"},[t("strong",null,"Medible:"),l(" Duraci칩n total y progreso por paso")],-1))]),t("div",ge,[s(o,{size:"small",color:"success"},{default:a(()=>[...e[14]||(e[14]=[l("mdi-check-circle",-1)])]),_:1}),e[15]||(e[15]=t("span",{class:"text-body-2"},[t("strong",null,"Certificable:"),l(" Incluye certificaciones para skills cr칤ticas")],-1))])]),_:1})]),_:1})]),s(S,{type:"info",variant:"tonal",class:"mt-4",density:"compact"},{prepend:a(()=>[s(o,null,{default:a(()=>[...e[17]||(e[17]=[l("mdi-information",-1)])]),_:1})]),default:a(()=>[e[18]||(e[18]=t("strong",null,"C칩mo generar una ruta:",-1)),e[19]||(e[19]=l(' Realiza un an치lisis de brechas (Gap Analysis) y haz clic en "Generar ruta de aprendizaje" ',-1))]),_:1}),t("div",xe,[e[21]||(e[21]=t("h3",{class:"text-subtitle-1 font-weight-bold mb-2"}," 쮺칩mo se determinan las acciones? ",-1)),e[22]||(e[22]=t("p",{class:"text-body-2 mb-3"},[l(" Las acciones de aprendizaje se generan autom치ticamente bas치ndose en el "),t("strong",null,"tama침o de la brecha"),l(" (diferencia entre nivel requerido y nivel actual), independientemente del nivel absoluto en que se encuentre la persona: ")],-1)),s(U,{class:"text-body-2",style:{background:"transparent"}},{default:a(()=>[...e[20]||(e[20]=[t("thead",null,[t("tr",{style:{"background-color":"transparent"}},[t("th",{class:"text-left"}," Tama침o de Brecha "),t("th",{class:"text-left"}," Acciones Asignadas "),t("th",{class:"text-left"}," Duraci칩n Estimada ")])],-1),t("tbody",null,[t("tr",null,[t("td",null,[t("strong",null,"1 nivel")]),t("td",null,"游닀 Lectura y estudio"),t("td",null,"15-20 d칤as")]),t("tr",null,[t("td",null,[t("strong",null,"2 niveles")]),t("td",null,"游닄 Curso + Pr치ctica"),t("td",null,"40-50 d칤as")]),t("tr",null,[t("td",null,[t("strong",null,"3 niveles")]),t("td",null,"游꿉 Curso + Mentor칤a + Proyecto"),t("td",null,"75-90 d칤as")]),t("tr",null,[t("td",null,[t("strong",null,"4+ niveles")]),t("td",null," 游끥 Curso + Mentor칤a + Workshop + Proyecto "),t("td",null,"100-120 d칤as")])],-1)])]),_:1}),e[23]||(e[23]=t("p",{class:"text-caption text-medium-emphasis mt-2"}," 游눠 Para skills cr칤ticas se agrega certificaci칩n (15 d칤as adicionales) ",-1))])])])]),_:1})]),_:1}),w.value?(d(),g(p,{key:0,class:"mb-6",elevation:"0",variant:"outlined"},{default:a(()=>[s(m,{class:"py-12 text-center"},{default:a(()=>[s(O,{indeterminate:"",color:"primary",size:"48"}),e[27]||(e[27]=t("p",{class:"text-medium-emphasis mt-4"}," Cargando rutas de aprendizaje... ",-1))]),_:1})]),_:1})):z("",!0),w.value?z("",!0):(d(),_("div",be,[x.value.length===0?(d(),g(p,{key:0,elevation:"0",variant:"outlined",class:"py-16"},{default:a(()=>[s(m,{class:"text-center"},{default:a(()=>[s(o,{size:"80",class:"text-medium-emphasis mb-6"},{default:a(()=>[...e[28]||(e[28]=[l("mdi-map-marker-path",-1)])]),_:1}),e[29]||(e[29]=t("div",{class:"text-h6 mb-2"},"No hay rutas de aprendizaje",-1)),e[30]||(e[30]=t("div",{class:"text-body-2 text-medium-emphasis"}," Las rutas de desarrollo se crean desde el m칩dulo de an치lisis de brechas (Gap Analysis) ",-1))]),_:1})]),_:1})):z("",!0),(d(!0),_(A,null,V(x.value,r=>(d(),g(p,{key:r.id,class:"mb-4",elevation:"0",variant:"outlined"},{default:a(()=>[s(L,{onClick:c=>b.value=b.value===r.id?null:r.id,style:{cursor:"pointer"},class:"pa-6"},{default:a(()=>[t("div",ye,[t("div",ke,[t("div",ze,[l(u(r.people_name)+" ",1),r.current_role_name?(d(),_("span",we," ("+u(r.current_role_name)+") ",1)):z("",!0)]),t("div",Ce,[t("div",je,[s(o,{size:"small",class:"mr-1"},{default:a(()=>[...e[31]||(e[31]=[l("mdi-arrow-right",-1)])]),_:1}),l(" "+u(r.target_role_name),1)]),G(r)?(d(),g(v,{key:0,size:"x-small",color:"info",variant:"flat","prepend-icon":"mdi-account-tie"},{default:a(()=>[...e[32]||(e[32]=[l(" Rol actual ",-1)])]),_:1})):(d(),g(v,{key:1,size:"x-small",color:"purple",variant:"flat","prepend-icon":"mdi-target"},{default:a(()=>[...e[33]||(e[33]=[l(" Rol objetivo ",-1)])]),_:1}))])]),t("div",Pe,[s(v,{size:"small",color:"primary",variant:"tonal",class:"mb-1"},{default:a(()=>[s(o,{start:"",size:"small"},{default:a(()=>[...e[34]||(e[34]=[l("mdi-clock-outline",-1)])]),_:1}),l(" "+u(B(r.steps))+" d칤as ",1)]),_:2},1024),t("div",De,u(r.steps.length)+" pasos ",1)]),s(C,{icon:"",variant:"text",size:"small",onClick:ne(c=>I(r),["stop"]),color:"error",title:"Eliminar ruta"},{default:a(()=>[s(o,null,{default:a(()=>[...e[35]||(e[35]=[l("mdi-delete-outline",-1)])]),_:1})]),_:1},8,["onClick"]),s(C,{icon:"",variant:"text",size:"small"},{default:a(()=>[s(o,null,{default:a(()=>[l(u(b.value===r.id?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["onClick"]),s(H,null,{default:a(()=>[b.value===r.id?(d(),_("div",Ee,[s(E),s(m,{class:"pa-6"},{default:a(()=>[t("div",Me,[s(W,{side:"end",density:"compact","line-inset":"12"},{default:a(()=>[(d(!0),_(A,null,V(r.steps,(c,Y)=>(d(),g(Q,{key:Y,"dot-color":D(c.action_type),size:"small"},{icon:a(()=>[s(o,{size:"small",icon:T(c.action_type)},null,8,["icon"])]),default:a(()=>[s(p,{elevation:"0",variant:"tonal",color:D(c.action_type)},{default:a(()=>[s(m,{class:"pa-4"},{default:a(()=>[t("div",qe,[t("div",Le,u(c.skill_name),1),s(v,{size:"small",variant:"flat",color:D(c.action_type)},{default:a(()=>[l(u(c.action_type),1)]),_:2},1032,["color"])]),t("p",Ae,u(c.description),1),t("div",Ve,[s(v,{size:"x-small",variant:"outlined"},{default:a(()=>[s(o,{start:"",size:"x-small"},{default:a(()=>[...e[36]||(e[36]=[l("mdi-clock-outline",-1)])]),_:1}),l(" "+u(c.estimated_duration_days)+" d칤as ",1)]),_:2},1024),s(v,{size:"x-small",variant:"outlined"},{default:a(()=>[s(o,{start:"",size:"x-small"},{default:a(()=>[...e[37]||(e[37]=[l("mdi-order-numeric-ascending",-1)])]),_:1}),l(" Paso "+u(c.order),1)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["color"])]),_:2},1032,["dot-color"]))),128))]),_:2},1024)])]),_:2},1024)])):z("",!0)]),_:2},1024)]),_:2},1024))),128))])),s(X,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=r=>y.value=r),"max-width":"500px"},{default:a(()=>[s(p,null,{default:a(()=>[s(L,{class:"d-flex align-center text-error gap-2"},{default:a(()=>[s(o,null,{default:a(()=>[...e[38]||(e[38]=[l("mdi-alert-circle-outline",-1)])]),_:1}),e[39]||(e[39]=l(" Eliminar ruta de aprendizaje ",-1))]),_:1}),s(E),s(m,{class:"py-6"},{default:a(()=>[t("p",$e,[e[40]||(e[40]=l(" 쮼st치 seguro de que desea eliminar la ruta de aprendizaje de ",-1)),t("strong",null,u(k.value?.people_name),1),e[41]||(e[41]=l("? ",-1))]),e[42]||(e[42]=t("p",{class:"text-body-2 text-medium-emphasis"}," Esta acci칩n no se puede deshacer. La ruta ser치 marcada como eliminada en el sistema. ",-1))]),_:1}),s(E),s(K,{class:"pa-4"},{default:a(()=>[s(J),s(C,{variant:"outlined",onClick:e[0]||(e[0]=r=>y.value=!1)},{default:a(()=>[...e[43]||(e[43]=[l(" Cancelar ",-1)])]),_:1}),s(C,{color:"error",variant:"flat",onClick:N,loading:P.value},{default:a(()=>[s(o,{start:""},{default:a(()=>[...e[44]||(e[44]=[l("mdi-delete",-1)])]),_:1}),e[45]||(e[45]=l(" Eliminar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Ge=oe(he,[["__scopeId","data-v-0893172d"]]);export{Ge as default};
