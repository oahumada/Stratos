import{_ as C}from"./SkillLevelChip.vue_vue_type_script_setup_true_lang-IwqcXRpL.js";import{d as U,_ as H,r as S,o as O,l as K,b as i,c as _,e as r,j as n,f as t,w as l,k as s,F as x,s as N,t as d,g as m,i as T,u as k,m as Q}from"./app-BQBzBluS.js";import W from"./FormSchema-MwFFOhwG.js";import"./apiHelper-CL77IM7H.js";import"./index.es-CBox0HgD.js";import"./FormData-C_Q_stz2.js";const X={index:"/api/skills",apiUrl:"/api/skills"},Y=!0,Z="Gestión de Skills",h="Gestionar habilidades y categorías de la organización",ee={crear:!0,editar:!0,eliminar:!0},le={endpoints:X,detail:Y,titulo:Z,descripcion:h,permisos:ee},te=[{field:"name",type:"text",label:"Skill Name",placeholder:"Search by skill name"},{field:"category",type:"text",label:"Category",placeholder:"Search by category"}],se=[{key:"name",label:"Skill Name",type:"text",placeholder:"Enter skill name",rules:["required","min:3"]},{key:"category",label:"Category",type:"select",placeholder:"Select a category",rules:["required"],items:[{id:"technical",name:"Technical"},{id:"soft",name:"Soft Skills"},{id:"business",name:"Business"},{id:"language",name:"Language"}]},{key:"complexity_level",label:"Complexity Level",type:"select",placeholder:"Select complexity level",rules:[],items:[{id:"operative",name:"Operative"},{id:"tactical",name:"Tactical"},{id:"strategic",name:"Strategic"}]},{key:"scope_type",label:"Scope Type",type:"select",placeholder:"Select scope type",rules:[],items:[{id:"transversal",name:"Transversal"},{id:"domain",name:"Domain"},{id:"specific",name:"Specific"}]},{key:"domain_tag",label:"Domain Tag",type:"text",placeholder:"e.g., Sales, IT, Legal, Marketing",rules:[]},{key:"is_critical",label:"Is Critical",type:"switch",rules:[]},{key:"description",label:"Description",type:"textarea",placeholder:"Describe this skill",rules:[]}],ae=[],oe={fields:se,catalogs:ae},ie=[{text:"Name",value:"name",sortable:!0},{text:"Category",value:"category",sortable:!0},{text:"Description",value:"description",sortable:!1},{text:"Roles",value:"roles_count",sortable:!0},{text:"Personas",value:"people_count",sortable:!0},{text:"Actions",value:"actions",sortable:!1}],ne={dense:!1,itemsPerPage:10,showSelect:!1},re={headers:ie,options:ne},de={class:"mb-6"},ce={key:0,class:"py-4 text-center text-secondary"},ue={key:0,class:"py-4 text-center text-secondary"},me=U({layout:H,__name:"Index",setup(pe){const y=S("info"),g=S([]);O(async()=>{try{const c=await K.get("/api/catalogs",{params:{catalogs:["skill_levels"]}});g.value=c.data.skill_levels||[]}catch(c){console.error("Error loading skill levels:",c)}});const D=c=>c.roles?c.roles.map(e=>({id:e.id,role:{name:e.name,level:e.level},required_level:e.pivot?.required_level||0,is_critical:e.pivot?.is_critical||!1})):[],V=c=>c.people_role_skills||[],j=le,E=re,B=oe,A=te,F=[{level:1,name:"Básico",description:"Conocimiento fundamental. Puede realizar tareas simples bajo supervisión. Requiere soporte para decisiones complejas."},{level:2,name:"Intermedio",description:"Competencia establecida. Puede trabajar de forma independiente en tareas estándar. Requiere orientación en situaciones nuevas."},{level:3,name:"Avanzado",description:"Dominio demostrado. Resuelve problemas complejos de forma autónoma. Puede asesorar a otros en la habilidad."},{level:4,name:"Experto",description:"Dominio excepcional. Líder en la habilidad. Desarrolla mejores prácticas y mentoriza equipos."},{level:5,name:"Maestría",description:"Expertise excepcional. Referente organizacional. Impulsa innovación y establece estándares de excelencia."}];return(c,e)=>{const u=i("v-icon"),I=i("v-card-title"),p=i("v-chip"),R=i("v-card-text"),b=i("v-card"),M=i("v-col"),J=i("v-row"),w=i("v-tab"),$=i("v-tabs"),v=i("v-list-item-title"),f=i("v-list-item"),z=i("v-list"),q=i("v-window-item"),L=i("v-avatar"),P=i("v-list-item-subtitle"),G=i("v-window");return r(),_(x,null,[n("div",de,[t(b,{class:"mb-6",variant:"elevated"},{default:l(()=>[t(I,{class:"text-h6 text-primary"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[2]||(e[2]=[s("mdi-lightbulb-outline",-1)])]),_:1}),e[3]||(e[3]=s(" Módulo de Habilidades (Skills) ",-1))]),_:1}),t(R,null,{default:l(()=>[e[5]||(e[5]=n("p",{class:"text-body-2 mb-4"},[n("strong",null,"Objetivo del Módulo:"),s(" Este módulo permite gestionar y catalogar las habilidades (skills) de la organización. Las habilidades pueden ser técnicas o blandas, y se relacionan con los roles disponibles y las personas que las poseen. Cada habilidad tiene un nivel asociado que indica el grado de dominio requerido. ")],-1)),n("div",null,[e[4]||(e[4]=n("p",{class:"text-body-2 font-weight-bold mb-3"}," Niveles de Habilidades (1-5): ",-1)),t(J,{dense:""},{default:l(()=>[(r(),_(x,null,N(F,a=>t(M,{key:a.level,cols:"12",md:"6",lg:"4",xl:"3"},{default:l(()=>[t(b,{variant:"outlined",class:"h-100"},{default:l(()=>[t(I,{class:"text-subtitle-2"},{default:l(()=>[t(p,{color:a.level===1?"blue":a.level===2?"cyan":a.level===3?"green":a.level===4?"orange":"red","text-color":"white",size:"small",class:"mr-2"},{default:l(()=>[s(" Nivel "+d(a.level),1)]),_:2},1032,["color"]),s(" "+d(a.name),1)]),_:2},1024),t(R,{class:"text-caption"},{default:l(()=>[s(d(a.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1})])]),_:1})]),_:1})]),t(W,{config:k(j),"table-config":k(E),"item-form":k(B),filters:k(A)},{detail:l(({item:a})=>[t($,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=o=>y.value=o)},{default:l(()=>[t(w,{value:"info"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[6]||(e[6]=[s("mdi-information",-1)])]),_:1}),e[7]||(e[7]=s(" Información ",-1))]),_:1}),t(w,{value:"roles"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[8]||(e[8]=[s("mdi-account-tie",-1)])]),_:1}),s(" Roles ("+d(a.roles_count||0)+") ",1)]),_:2},1024),t(w,{value:"people"},{default:l(()=>[t(u,{start:""},{default:l(()=>[...e[9]||(e[9]=[s("mdi-account-group",-1)])]),_:1}),s(" Personas ("+d(a.people_count||0)+") ",1)]),_:2},1024)]),_:2},1032,["modelValue"]),t(G,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=o=>y.value=o),class:"mt-4"},{default:l(()=>[t(q,{value:"info"},{default:l(()=>[t(b,{flat:"",border:"",class:"pa-3"},{default:l(()=>[e[14]||(e[14]=n("div",{class:"text-subtitle-2 mb-3"}," Información de la Skill ",-1)),t(z,{density:"compact"},{default:l(()=>[t(f,null,{default:l(()=>[t(v,{class:"text-body-2"},{default:l(()=>[e[10]||(e[10]=n("strong",null,"Nombre:",-1)),s(" "+d(a.name),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[t(v,{class:"text-body-2"},{default:l(()=>[e[11]||(e[11]=n("strong",null,"Categoría:",-1)),t(p,{size:"small",class:"ml-2",color:a.category==="technical"?"primary":a.category==="soft"?"success":"warning"},{default:l(()=>[s(d(a.category),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024),a.description?(r(),m(f,{key:0},{default:l(()=>[t(v,{class:"text-body-2"},{default:l(()=>[e[12]||(e[12]=n("strong",null,"Descripción:",-1)),s(" "+d(a.description),1)]),_:2},1024)]),_:2},1024)):T("",!0),t(f,null,{default:l(()=>[t(v,{class:"text-body-2"},{default:l(()=>[e[13]||(e[13]=n("strong",null,"Crítica:",-1)),t(p,{size:"small",class:"ml-2",color:a.is_critical?"error":"default"},{default:l(()=>[s(d(a.is_critical?"Sí":"No"),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(q,{value:"roles"},{default:l(()=>[t(b,{flat:"",border:"",class:"pa-3"},{default:l(()=>[e[19]||(e[19]=n("div",{class:"text-subtitle-2 mb-3"}," Roles que requieren esta skill ",-1)),D(a).length===0?(r(),_("div",ce," No hay roles asignados ")):(r(),m(z,{key:1,density:"compact"},{default:l(()=>[(r(!0),_(x,null,N(D(a),o=>(r(),m(f,{key:o.id,class:"mb-2",border:""},{prepend:l(()=>[t(L,{color:"primary",size:"32"},{default:l(()=>[t(u,{size:"small"},{default:l(()=>[...e[15]||(e[15]=[s("mdi-account-tie",-1)])]),_:1})]),_:1})]),default:l(()=>[t(v,{class:"text-body-2 font-weight-medium"},{default:l(()=>[s(d(o.role?.name||"N/A"),1)]),_:2},1024),t(P,{class:"text-body-2 d-flex align-center mt-2 gap-2"},{default:l(()=>[e[18]||(e[18]=n("span",{class:"font-weight-medium"},"Nivel requerido:",-1)),t(C,{level:o.required_level,"skill-levels":g.value,color:"primary",size:"large"},null,8,["level","skill-levels"]),o.is_critical?(r(),m(p,{key:0,size:"small",color:"error","text-color":"white",class:"ml-auto"},{default:l(()=>[t(u,{start:"",size:"small"},{default:l(()=>[...e[16]||(e[16]=[s("mdi-alert",-1)])]),_:1}),e[17]||(e[17]=s(" Crítica ",-1))]),_:1})):T("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024),t(q,{value:"people"},{default:l(()=>[t(b,{flat:"",border:"",class:"pa-3"},{default:l(()=>[e[27]||(e[27]=n("div",{class:"text-subtitle-2 mb-3"}," Empleados con esta skill ",-1)),V(a).length===0?(r(),_("div",ue," No hay empleados con esta skill ")):(r(),m(z,{key:1,density:"compact"},{default:l(()=>[(r(!0),_(x,null,N(V(a),o=>(r(),m(f,{key:o.id,class:"mb-2",border:""},{prepend:l(()=>[t(L,{color:"success",size:"32"},{default:l(()=>[t(u,{size:"small"},{default:l(()=>[...e[20]||(e[20]=[s("mdi-account",-1)])]),_:1})]),_:1})]),default:l(()=>[t(v,{class:"text-body-2 font-weight-medium"},{default:l(()=>[s(d(o.person?`${o.person.first_name} ${o.person.last_name}`:"N/A"),1)]),_:2},1024),t(P,{class:"text-caption"},{default:l(()=>[e[24]||(e[24]=n("span",{class:"font-weight-medium"},"Actual:",-1)),t(C,{level:o.current_level,"skill-levels":g.value,color:o.current_level>=o.required_level?"success":"warning",class:"ml-1"},null,8,["level","skill-levels","color"]),e[25]||(e[25]=n("span",{class:"mx-2"},"•",-1)),e[26]||(e[26]=n("span",{class:"font-weight-medium"},"Requerido:",-1)),t(C,{level:o.required_level,"skill-levels":g.value,color:"primary",class:"ml-1"},null,8,["level","skill-levels"]),o.current_level>=o.required_level?(r(),m(p,{key:0,size:"x-small",color:"success",class:"ml-2"},{default:l(()=>[t(u,{start:"",size:"x-small"},{default:l(()=>[...e[21]||(e[21]=[s("mdi-check",-1)])]),_:1}),e[22]||(e[22]=s(" Cumple ",-1))]),_:1})):(r(),m(p,{key:1,size:"x-small",color:"warning",class:"ml-2"},{default:l(()=>[t(u,{start:"",size:"x-small"},{default:l(()=>[...e[23]||(e[23]=[s("mdi-alert",-1)])]),_:1}),s(" Gap: "+d(o.required_level-o.current_level)+" nivel(es) ",1)]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:1},8,["config","table-config","item-form","filters"])],64)}}}),xe=Q(me,[["__scopeId","data-v-dbf71c95"]]);export{xe as default};
