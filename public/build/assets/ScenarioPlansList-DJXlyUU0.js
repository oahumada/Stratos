import{d as h,_ as k,o as x,r as e,b as E,c as C,e as o,w as t,g as B,j as l,t as d,k as u,J as L}from"./app-B4Q7DtOZ.js";import{u as P}from"./useScenarioPlanning-Ca158bzr.js";import"./useApi-D-wG6FEk.js";import"./apiHelper-BLoNXDsG.js";const S={class:"pa-4"},D=h({layout:k,__name:"ScenarioPlansList",setup(V){const{listPlans:_}=P(),{showError:m}=L(),r=u(!1),i=u([]),p=[{title:"Nombre",value:"name"},{title:"Código",value:"code"},{title:"Estado",value:"status"},{title:"Inicio",value:"start_date"},{title:"Término",value:"end_date"}];return x(async()=>{r.value=!0;try{const s=await _(),a=s?.data?.data??s?.data??[];i.value=Array.isArray(a)?a:[]}catch{m("No fue posible cargar los planes")}finally{r.value=!1}}),(s,a)=>{const c=e("v-col"),v=e("v-icon"),f=e("v-btn"),g=e("v-row"),y=e("RouterLink"),b=e("v-chip"),w=e("v-data-table"),N=e("v-card");return E(),C("div",S,[o(g,{class:"mb-4",align:"center"},{default:t(()=>[o(c,null,{default:t(()=>[...a[0]||(a[0]=[B("h2",null,"Escenarios",-1)])]),_:1}),o(c,{class:"text-right"},{default:t(()=>[o(f,{color:"primary",to:{name:"scenario-planning.create"}},{default:t(()=>[o(v,{start:""},{default:t(()=>[...a[1]||(a[1]=[l("mdi-plus",-1)])]),_:1}),a[2]||(a[2]=l(" Nuevo Escenario ",-1))]),_:1})]),_:1})]),_:1}),o(N,null,{default:t(()=>[o(w,{headers:p,items:i.value,loading:r.value,density:"comfortable"},{"item.name":t(({item:n})=>[o(y,{to:{name:"scenario-planning.show",params:{id:n.id}}},{default:t(()=>[l(d(n.name),1)]),_:2},1032,["to"])]),"item.status":t(({item:n})=>[o(b,{size:"small",color:n.status==="active"?"success":n.status==="approved"?"info":"grey"},{default:t(()=>[l(d(n.status),1)]),_:2},1032,["color"])]),_:1},8,["items","loading"])]),_:1})])}}});export{D as default};
